# FlashPick 功能文档 (2025版)

FlashPick 是一款结合了屏幕录制、AI 视觉分析和语音识别的智能记忆助理应用。它通过一只居住在屏幕上的灵动桌宠（Luppy），帮助用户随时回溯、整理和洞察自己的数字生活。

## 🌟 核心功能：灵动桌宠 (Luppy)

App 的核心交互入口是一个悬浮在屏幕上的白色小团子。

### 1. 交互方式
- **👀 眼神交流**：桌宠会有眨眼动画，并会跟随你的手指点击方向转动视线（Happy Squint）。
- **👆 单击 (Single Tap)**：唤出环绕式功能菜单（默认展开半径可调）。
- **✌️ 双击 (Double Tap)**：极速保存刚刚发生的精彩瞬间（默认回溯 10秒）。
- **🤏 拖拽 (Drag)**：按住可随意拖动桌宠位置。拖至屏幕边缘会自动吸附或半隐藏。

### 2. 环绕菜单 (Radial Menu)
单击桌宠后，会在其右侧展开三个功能按钮：
- **↗️ 剪辑 (Clip)**：手动剪辑模式。弹出一个时间选择器，允许你精确选择要保存“触发时刻”前 xx 秒和后 xx 秒的画面。
- **➡️ 问问 (Talk)**：(开发中) AI 屏幕问答助手。长按说话，AI 会结合当前屏幕画面回答你的问题。
- **↘️ 笔记 (Note)**：语音笔记。长按录音，松开结束。录音会自动转录为文字 (ASR)，并结合屏幕截图生成一条带有上下文的记忆卡片。

---

## 📅 记忆回溯：流体记忆流

主界面采用“流体记忆”设计，以卡片流的形式展示你的一天。

### 1. 每日总结 (Daily Summary)
- 列表最上方固定展示一张 **“每日总结卡片”**。
- 点击 **“生成总结”**，AI 会根据当天记录的所有 App、标题和摘要，生成一段简短的各种活动概览（如：“你今天主要在 B站看了关于 AI 的视频，并在微信和朋友讨论了周末计划...”）。
- 总结内容会自动持久化存储。

### 2. 记忆卡片 (Memory Card)
- **紧凑设计**：为了信息密度，列表卡片仅展示核心信息，移除了大图预览。
- **信息展示**：
    - **App 图标 & 名称**：自动识别来源应用（如 Bilibili, WeChat）。
    - **时间戳**：精确到分钟。
    - **AI 标题**：AI 自动生成的简短标题。
    - **智能摘要**：根据内容类型（娱乐/学术）自适应生成的摘要。
    - **标签 (Tags)**：AI 提取的关键词（如 #SwiftUI, #猫咪）。
    - **语音标识**：如果是语音笔记，会有特殊的音频波形样式。

### 3. 日历导航
- **周视图**：顶部展示当前周的日期，支持左右滑动切换周。
- **月视图**：点击月份标题（如 "Dec 2025"），弹出日历控件，支持快速跳转任意日期。
- **平滑动画**：选中日期时有丝滑的背景色过渡动画。

---

## 🧠 AI 智能分析 (Intelligence)

### 1. 视觉语言模型 (VLM)
- 集成 **火山引擎 Doubao-Vision** 大模型。
- **关键帧提取**：采用“均匀采样 + 焦点采样”策略，自动从视频中提取 5-8 张关键帧，确保覆盖全过程且重点关注触发时刻。
- **意图识别 Prompt**：
    - 针对 **娱乐/生活** 内容（短视频、购物）：生成简短摘要。
    - 针对 **知识/学术** 内容（论文、代码）：生成深度解读。

### 2. 语音识别 (ASR)
- 集成 **火山引擎 ASR**。
- 录制的语音笔记会自动转录为文字，并作为 Prompt 的一部分输入给 VLM，显著提高 AI 对用户意图的理解准确度。

### 3. 离线调试与数据同步
- **找回记忆 (Sync Files)**：扫描本地文件夹，找回数据库中丢失的视频记录。
- **一键分析 (Analyze All)**：后台批量为所有未处理的记录生成 AI 标题和摘要。
- **PC 调试环境**：提供 Python 脚本，支持将手机数据一键同步到 PC，方便开发者调试 Prompt 和分析逻辑。

---

## ⚙️ 设置与管理

- **权限管理**：一站式管理悬浮窗、无障碍、录音等权限。
- **白名单管理**：选择只在特定 App 处于前台时才允许录制（保护隐私）。
- **桌宠调试**：
    - **重置位置**：找回“离家出走”的桌宠。
    - **菜单参数**：自定义菜单展开半径 (Radius) 和窗口大小 (Size)。
- **使用手册**：内置详细的图文使用说明。


